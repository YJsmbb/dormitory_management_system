# dormitory_management_system
宿舍信息管理系统

*红字为解释
绿字为函数名

选题5：宿舍信息管理系统
设计一个宿舍信息管理案例，实现不同类别宿舍的数据管理。宿舍的种类包括：学生宿舍、教师宿舍。定义一个基本的宿舍类，基本信息包括：楼号building_Num_、楼层号floor_Num_、房间号room_Num_、面积area_、修缮状况repair_status_、逻辑删除标记is_deleted_。派生出学生宿舍类，增加的属性包括：可住人数available_people_、实住人数actual_people_、student_(性别sex_、学院faculty_、学生姓名name_、学号student_ID_)、每学生价格price_per_student_、宿舍实际征收金额dormitory_actual_amount_；
有N个学生，添加学生student类对象

教师宿舍类增加的属性包括：入住教师工号teacher_ID_、搬入年份move_in_year_、入住时间living_duration_、月租金rent_per_month_、水电费utility_bills_、总费用total_amount_。
宿舍实际征收金额 = 每学生价格*实住人数
月租金=(1/2（当前年份-入住年份）+1）*5*面积
基本功能与技术要求
1、	数据文件管理功能：创建新文件create、打开文件open、保存文件save。
2、计算与统计功能，完成记录中相关数据的统计；
1）能够打开已存在的数据表文件，对数据表中与某关键字匹配的相关记录进行数据统计（包括：房间每平方价格、总价total_amount_、平均价等宿舍房间数room_num_）count函数 
2）计算每栋楼平均价格price_per_building_、教师宿舍平均房间价price_per_teacher_room_和平均每平米价格price_per_meter_。calculate
每栋楼平均价格 = 学生宿舍所有楼房价格 / 楼数
或者
每栋楼平均价格 = 教师宿舍所有楼房价格 / 楼数

教师宿舍平均房间价 = 教师宿舍总价 / 教师宿舍数room_num_
教师平均每米价格 = 教师宿舍总价 / 教师宿舍总面积
3、记录管理功能：记录的管理采用链表或者指针数组实现。
增、查时，注意is_deleted_，增时如果存在is_deleted_重名，插入失败
1）输入／添加/插入记录，并保存到数据文件中。insert在数组第i个位置插入记录/add在数组末尾添加记录
输入到缓存区temp，添加 / 插入 insert(*重名)
2）查询、显示记录，根据用户要求按所给编号、名字或房号等记录关键字排序sort(对指针数组进行排序)、查询一个或多个相关联记录的各项信息。search/searchBinary
排序时，对学生宿舍只进行房号排序/对教师宿舍进行编号、姓名、房号排序
查询，学生房号排序，教师编号、名字，可以二分查找
（注意排除is_deleted_为true的记录）
能排序则排序，查询输出相关的一条或多条信息
3）修改记录：能够打开已存在的数据表文件，并对确定的任意记录进行修改，在修改过程中，应显示记录信息，给出确认提示，并对更新的记录信息进行文件保存。update
提示输入，选择一条记录（根据唯一关键字选择记录），显示出来，询问用户是否修改，（除房号外，全部修改），询问用户是否确认信息（break），询问是否继续修改当前数据表。
4）删除记录：能够打开已存在的数据表文件，可以删除数据表中的任一记录，要求具备逻辑删除（具有恢复功能）和物理删除功能，并对新的数据表信息进行文件保存。removePhysical 物理删除，从指针数组中删除对象指针
removeLogical 逻辑删除，设置is_deleted属性为true
物理删除：指文件存储所用到的磁存储区域被真正的擦除或清零，这样删除的文件是不可以恢复的，物理删除是计算机处理数据时的一个概念。如果在数据库中直接使用delete、drop删除了表数据，如果没有备份的话，数据就很难恢复了。
逻辑删除（软删除）：逻辑删除就是对要被删除的数据打上一个删除标记，通常使用一个is_deleted字段标示行记录是不是被删除（或者使用一个status字段代表所谓的“删除”状态），在逻辑上是数据是被删除的，但数据本身是依然存在的。

